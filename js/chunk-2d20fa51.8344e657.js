(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fa51"],{b508:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-full mt-5 mb-10 p-5 min-h-tmminbody sm:min-h-tminbody text-tgreen bg-white flex flex-col items-center justify-center"},[s("p",{staticClass:"font-bold text-center text-base sm:text-xl mb-3 sm:mb-10 xl:mb-5"},[e._v(" Patient : "+e._s(e.fullDossier.fistName)+" "+e._s(e.fullDossier.lastName)+" ")]),s("p",{staticClass:"font-bold text-center text-base sm:text-base mb-3 sm:mb-10 xl:mb-5"},[e._v(" Dossier N° "+e._s(e.fullDossier.noDossier)+" "),s("span",{class:["border mr-5 px-5 py-1 text-white text-sm",e.fullDossier.isCompleted?"bg-tgreen":"bg-twarning"]},[e._v(" "+e._s(e.fullDossier.isCompleted?"Complet":"Incomplet")+" ")]),s("i",{staticClass:"feather icon-edit text-xl mr-1 hover:border cursor-pointer",on:{click:function(t){return e.getEditDossierLink()}}})]),s("p",{staticClass:"text-center mt-3 mb-3 cursor-pointer underline",on:{click:e.backToDash}},[e._v(" Revenir à l'espace Secretaire ")]),s("dossier-general-info"),s("dossier-survey"),s("dossier-uploaded-doc"),s("dossier-consent"),e.fullDossier&&e.fullDossier.phone?s("button",{class:[e.sendSMSBtnClass,e.fullDossier.isCompleted?"bg-t_disabled":"bg-t_dark_green"],on:{click:function(t){return t.preventDefault(),e.sendSMS(t)}}},[e.sending?s("p",{staticClass:"text-xl animate-spin feather icon-loader mr-2"}):e._e(),s("i",{staticClass:"feather icon-send mr-1"}),e._v("Relancer SMS ")]):e._e(),e.fullDossier&&!e.fullDossier.phone?s("p",{staticClass:"bg-twarning px-3 text-white mt-3"},[e._v("Dossier n'a pas de numéro de téléphone")]):e._e(),s("dossier-history"),s("p",{staticClass:"text-center mt-5 cursor-pointer underline",on:{click:e.backToDash}},[e._v(" Revenir à l'espace Secretaire ")])],1)},r=[],i=s("1da1"),o=s("5530"),a=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("99af"),s("3418")),c={name:"DossierDashboard",components:{DossierGeneralInfo:function(){return s.e("chunk-237d6cf6").then(s.bind(null,"1991"))},DossierUploadedDoc:function(){return s.e("chunk-2d0ceb8c").then(s.bind(null,"6150"))},DossierConsent:function(){return s.e("chunk-2d217727").then(s.bind(null,"c785"))},DossierSurvey:function(){return s.e("chunk-2d0df2ff").then(s.bind(null,"899a"))},DossierHistory:function(){return s.e("chunk-2d2165e3").then(s.bind(null,"c1ba"))}},data:function(){return{getDataError:"",sendSMSBtnClass:"\n        py-2 px-5 rounded-3xl hover:shadow-xl mt-5\n        text-sm text-white \n        flex justify-start items-center",sending:!1}},created:function(){var e=this,t=this.$route.params.dossierId;this.fullDossier&&this.fullDossier._id==t||e.$myAuthAxios({url:"/dossier/".concat(t),method:"get"}).then((function(t){var s=((t.data||{}).data||{}).dossier,n=(t.data||{}).status;"success"===n&&s&&e.setFullDossier(s)})).catch((function(t){e.getDataError=t}))},computed:Object(o["a"])({},Object(a["mapState"])({fullDossier:function(e){return e.dossier.fullDossier},pagingParam:function(e){return e.secretary.pagingParam}})),methods:Object(o["a"])(Object(o["a"])({},Object(a["mapActions"])({setFullDossier:function(e){return e.dossier.setFullDossier}})),{},{getEditDossierLink:function(){this.$router.push({name:"secretary-dossier-edit",params:{dossierId:this.fullDossier._id}})},backToDash:function(){this.$router.push({name:"secretary-dash",query:{page:this.pagingParam||1}})},sendSMS:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e,e.sending=!0,n=e.$route.params.dossierId,t.next=5,s.$myAuthAxios({url:"/sms/send",method:"post",data:{dossierId:n,link:"".concat(window.location.origin,"/").concat("dossier","/login/").concat(s.fullDossier.noDossier)}}).then((function(t){((t.data||{}).data||{}).sms,(t.data||{}).status;e.sending=!1})).catch((function(t){e.sending=!1}));case 5:case"end":return t.stop()}}),t)})))()}})},l=c,u=s("2877"),d=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=d.exports}}]);