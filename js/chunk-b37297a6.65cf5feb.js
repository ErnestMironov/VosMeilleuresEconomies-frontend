(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b37297a6"],{"15fd":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s("a4d3"),s("b64b");function n(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}function r(e,t){if(null==e)return{};var s,r,i=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}},"8edb":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.docContainer},[e._m(0),e._l(e.documentToUpload,(function(t,n){return s("div",{key:n,class:[e.docClass,e.docLayoutClass]},[s("div",{staticClass:"w-full sm:w-4/12 lg:w-4/12 flex justify-start py-2"},[s("p",{staticClass:"mr-1"},[e._v(e._s(n+1)+".")]),s("p",[e._v(e._s(t.titre))])]),s("div",{staticClass:"w-full sm:w-4/12 lg:w-4/12 text-left sm:text-center"},[s("button",{class:e.btnClass,on:{click:function(s){return s.preventDefault(),e.chooseFile(t.slugTitre)}}},[e.uploadLoading==t.slugTitre?s("p",{staticClass:"text-xl animate-spin feather icon-loader mr-2"}):e._e(),s("i",{staticClass:"feather icon-upload mr-1"}),e._v("Télécharger à nouveau ")]),e.submitErr?s("p",{staticClass:"text-center py-1 text-tdanger"},[s("i",{staticClass:"feather icon-alert-triangle mr-1"}),e._v(e._s(e.submitErr)+" ")]):e._e(),e.message?s("p",{staticClass:"text-center py-1 text-success"},[s("i",{staticClass:"feather icon-check mr-1"}),e._v(e._s(e.message)+" ")]):e._e()]),s("div",{staticClass:"w-full sm:w-4/12 lg:w-4/12 py-2 px-3"},[s("a",{attrs:{href:e.$getFileLink(t.file)||""}},[e._v(e._s(e.getFilename(t.file)||""))])])])})),s("input",{ref:"fileInput",staticStyle:{height:"1px",width:"1px",overflow:"hidden","margin-left":"-99999px",position:"absolute"},attrs:{type:"file",id:"input",name:"input",accept:"image/*, .pdf, .doc, .docx"},on:{change:e.onChange}})],2)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex w-full mt-0 mb-0 sm:px-3 items-center"},[s("div",{staticClass:"w-2/12"},[s("div",{staticClass:"h-t_h40 w-t_w40 sm:h-t_h50 sm:w-t_w50 rounded-full bg-twarning text-white flex items-center justify-center text-2xl sm:text-3xl font-bold"},[e._v(" 2 ")])]),s("h2",{staticClass:"w-8/12 ml-3 sm:ml-0 text-left sm:text-center"},[s("b",[e._v("Je joins mon ordonnance")])])])}],i=s("15fd"),a=s("5530"),l=(s("1276"),s("ac1f"),s("3418")),o={name:"DocForPatient",data:function(){return{docContainer:"\n        w-full xl:w-10/12\n        border shadow mt-5 py-5 px-5 \n        text-tgreen \n        flex flex-col items-center justify-center",docClass:"\n        w-full\n        sm:w-10/12 \n        lg:w-10/12",docLayoutClass:"\n        flex flex-col items-start justify-center \n        sm:flex-row sm:justify-start sm:items-center",btnClass:"py-2 px-5 w-56 rounded-3xl hover:shadow-xl bg-t_dark_green text-sm text-white",signloading:!1,uploadLoading:!1,submitErr:"",message:"",file:"",currentSlugTitre:""}},computed:Object(a["a"])(Object(a["a"])({},Object(l["mapState"])({fullDossier:function(e){return e.dossier.fullDossier}})),{},{documentToUpload:function(){return(this.fullDossier||{}).documentUploaded||{}}}),methods:Object(a["a"])(Object(a["a"])({},Object(l["mapActions"])({setFullDossier:function(e){return e.dossier.setFullDossier},setDossierId:function(e){return e.dossier.setDossierId},setDossier:function(e){return e.dossier.setDossier}})),{},{chooseFile:function(e){this.currentSlugTitre=e,this.$refs.fileInput.click()},onChange:function(){var e=this;if(this.uploadLoading=this.currentSlugTitre,this.file=this.$refs.fileInput.files[0],this.file){var t=new FormData;t.append("doc",this.file),this.$myAuthAxios({url:"/dossier/me/upload?slugTitre=".concat(this.currentSlugTitre),method:"PUT",data:t}).then((function(t){if(t.data){e.message=e.$message.send_ok();var s=((t.data||{}).data||{}).dossier||{};e.setDossierId(s._id),e.setDossier(s);s.examenId,s.examenCentreId;var n=Object(i["a"])(s,["examenId","examenCentreId"]),r=Object.assign({},Object(a["a"])({examenId:e.fullDossier.examenId,examenCentreId:e.fullDossier.examenCentreId},n));e.setFullDossier(r)}})).catch((function(t){var s=(t||{}).data,n=((t||{}).data||{}).message;e.submitErr=n||s})).then((function(){e.currentSlugTitre="",e.uploadLoading=""}))}},getFilename:function(e){if(e){var t=e.split("/");if(t&&t.length)return t[t.length-1]}return""}})},u=o,c=s("2877"),d=Object(c["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},f74c:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-full mt-5 mb-10 p-5 min-h-tmminbody sm:min-h-tminbody text-tgreen bg-white flex flex-col items-center justify-center"},[s("p",{staticClass:"font-bold text-center text-base sm:text-base mb-3 sm:mb-10 xl:mb-5"},[e._v(" Votre dossier N° "+e._s(e.fullDossier.noDossier)+" "),s("span",{class:["px-5 py-1 text-white text-sm",e.fullDossier.isCompleted?"bg-tgreen":"bg-twarning"]},[e._v(" "+e._s(e.fullDossier.isCompleted?"Complet":"Incomplet")+" ")])]),s("general-info"),s("p",{staticClass:"mt-3 mb-0 py-3 px-5 font-bold text-white bg-twarning text-center"},[e._v("Pour vous pré-enregistrer, merci de valider les 4 étapes ci-dessous")]),s("survey-form"),s("upload-ordonnance"),s("doc-for-patient"),s("sign-consent")],1)},r=[],i=s("5530"),a=(s("d3b7"),s("3ca3"),s("ddb0"),s("3418")),l=(s("8edb"),{name:"DossierDashboard",components:{GeneralInfo:function(){return s.e("chunk-79140076").then(s.bind(null,"aeea"))},DocForPatient:function(){return s.e("chunk-5de5b253").then(s.bind(null,"091e"))},SurveyForm:function(){return s.e("chunk-2d0bae13").then(s.bind(null,"38a9"))},SignConsent:function(){return s.e("chunk-509b3dbc").then(s.bind(null,"feb7"))},UploadOrdonnance:function(){return Promise.resolve().then(s.bind(null,"8edb"))}},data:function(){return{errMsg:""}},created:function(){var e=this;this.fullDossier&&this.fullDossier._id||e.$myAuthAxios({url:"/dossier/me",method:"get"}).then((function(t){var s=((t.data||{}).data||{}).dossier,n=(t.data||{}).status;"success"===n&&s&&(e.setFullDossier(t.data.data.dossier),e.setDossier(t.data.data.dossier))})).catch((function(t){e.errMsg=t}))},computed:Object(i["a"])({},Object(a["mapState"])({fullDossier:function(e){return e.dossier.fullDossier}})),methods:Object(i["a"])({},Object(a["mapActions"])({setDossier:function(e){return e.dossier.setDossier},setFullDossier:function(e){return e.dossier.setFullDossier}}))}),o=l,u=s("2877"),c=Object(u["a"])(o,n,r,!1,null,null,null);t["default"]=c.exports}}]);